<div class="header">
  <h1 class="title">Battleship</h1>
  <h2 *ngIf="getState() == state.InGame">{{client.username}} vs {{client.opponentUsername}}</h2>
  <p class="instructions">{{client.getInstuciton()}}</p>
  <button class="bold-button" *ngIf="client.getState() === state.InLobby" (click)="client.join()">Join Game</button>
  <button class="bold-button" *ngIf="client.getGame().getWinner() !== -1" (click)="client.exitGame()">Exit Game</button>
</div>


<div *ngIf="getState() == state.InGame">
  <div class="board-area" [hidden]="this.nextShip < 5">
    <h2>Enemy Intel</h2>
    <table class="game-board">
      <tr *ngFor="let row of client.getGame().beliefs[client.playerNumber]; let r = index; ">
        <td *ngFor="let cell of row; let c = index;" (click)="fire(r, c)" [ngClass]="intelStyle(cell, r, c)"></td>
      </tr>
    </table>
    <p [hidden]="!client.getGame().hasStarted()"> Unsunk Ships:
      <span>{{shipList(client.getGame().unsunkShips[client.opponentNumber])}} </span>
    </p>

  </div>

  <div class="board-area">
    <h2>Your Fleet</h2>
    <table class="game-board">
      <tr *ngFor="let row of client.getGame().reality[client.playerNumber]; let r = index; ">
        <td *ngFor="let cell of row; let c = index;" (mouseover)="hoverPreview(r, c)" (click)="place(r, c)" [ngClass]="forces(cell, r, c, client.getGame().beliefs[client.opponentNumber][r][c])"></td>
      </tr>
    </table>
    <p [hidden]="!client.getGame().hasStarted()"> Unsunk Ships:
      <span>{{shipList(client.getGame().unsunkShips[client.playerNumber])}} </span>
    </p>

    <button (click)="toggleDir()" [hidden]="this.nextShip > 4">Change Direction</button>
  </div>
</div>
